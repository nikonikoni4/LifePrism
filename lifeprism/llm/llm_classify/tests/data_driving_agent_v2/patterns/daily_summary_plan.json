{
    "complex": {
        "task": "总结{date}这一天我做了什么",
        "nodes": [
            {
                "node_type": "tool-first",
                "node_name": "具体时间分析方案",
                "task_prompt": "依据用户电脑使用数据和用户行为统计数据,为了进一步推断用户在具体时间的行为,给出3~5个小于1.5h的时间段用于仔细分析。要求：1. 直接给出时间段，不需要分析 2. 若在行为统计分析中的主要活动记录和用户备注能够对应上，则不要选择用户备注的时间段。3. 重点关注电脑使用频率高，但信息量少的区域。",
                "thread_id": "q1",
                "data_out_thread": "main",
                "initial_tool_name": "get_daily_stats",
                "initial_tool_args": {
                    "start_time": "{date} 00:00:00",
                    "end_time": "{date} 23:59:59",
                    "split_count": 6,
                    "options": [
                        "pc_active_time",
                        "behavior_stats",
                        "user_notes"
                    ]
                },
                "data_out": false,
                "data_out_description": "用户行为统计数据: "
            },
            {
                "node_type": "llm-first",
                "node_name": "开启新线程，调用时间线",
                "task_prompt": "依据上面给出的需要调用的时间段，调用query_behavior_timeline",
                "thread_id": "q2",
                "data_in_thread": "q1",
                "data_in_slice": [
                    -1,
                    null
                ],
                "data_out_thread": "q1",
                "data_out": false,
                "tools": [
                    "query_behavior_timeline"
                ]
            },
            {
                "node_type": "tool-first",
                "node_name": "小时间窗口分析",
                "task_prompt": "根据用户todo和时间线数据，推断用户在这段时间内可能在做什么事情。要求：1. 总结简单直接，2. 推断过程简单回答。3. 对于关键的数据需要给出，但不能过多。",
                "thread_id": "q2",
                "data_out_thread": "q1",
                "initial_tool_name": "query_daily_todos",
                "initial_tool_args": {
                    "start_date": "{date}",
                    "end_date": "{date}"
                },
                "data_out": true,
                "data_out_description": "仔细的分时段总结: "
            },
            {
                "node_type": "tool-first",
                "node_name": "作息分析",
                "task_prompt": "你需要依据电脑使用时间表来判断是否需要调用工具query_behavior_timeline来具体了解用户最后1h的使用情况。 \n ## 当满足一下情况时需要调用工具：\n 1. 最晚使用时间超过23:59:59\n 2. 并且最后使用的1h内这段时间用户没有任\n 3. 若不满足1，2则返回'' ## 调用时间说明\n 调用时间窗口为最后使用的1h",
                "thread_id": "q3",
                "initial_tool_name": "get_daily_breakdown",
                "initial_tool_args": {
                    "start_date": "{date}",
                    "end_date": "{date}"
                },
                "tools": [
                    "query_behavior_timeline"
                ]
            },
            {
                "node_type": "llm-first",
                "node_name": "分析作息时间",
                "task_prompt": "依据上述电脑使用时间表和timeline数据（如果有的话），推测作者的作息时间，若出现晚睡情况（超过23:59）需要结合timeline数据说明用户最后1h做了什么。",
                "thread_id": "q3",
                "data_out_thread": "q1",
                "data_out": true,
                "data_out_description": "作息分析: "
            },
            {
                "node_type": "tool-first",
                "node_name": "总的分析",
                "task_prompt": "结合用户行为统计数据，用户行为时间线分析，用户作息时间分析，今日重点与任务，目标时间投入，与前一天的对比数据等数据进行总和分析。按照每日总结格式生成 {date} 的行为摘要。需包含：1) 分时段行为推断（结合应用记录，其他具体的时间线分析与用户备注）2） 作息规律分析 3) 目标任务完成情况评估 4) 综合总结 。注意使用 '可能' '推测' 等限定词，明确标注数据局限性。",
                "thread_id": "q1",
                "data_out_thread": "q1",
                "initial_tool_name": "get_daily_stats",
                "initial_tool_args": {
                    "start_time": "{date} 00:00:00",
                    "end_time": "{date} 23:59:59",
                    "split_count": 6,
                    "options": [
                        "goal_time_spent",
                        "tasks",
                        "comparison"
                    ]
                },
                "data_out": true,
                "data_out_description": "行为摘要: "
            }
        ],
        "tools_limit": {
            "query_behavior_timeline": 10,
            "query_behavior_logs": 5,
            "query_daily_todos": 2,
            "get_daily_stats": 2
        }
    }
}